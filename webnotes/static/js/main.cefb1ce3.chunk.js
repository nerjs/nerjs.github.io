(this["webpackJsonp@webnotes/client"]=this["webpackJsonp@webnotes/client"]||[]).push([[0],{116:function(e,t,n){t.sortDates=n(275),t.notesInput=n(276),t.notesInputQuery=n(277),t.strictNotesInput=n(278),t.notes=n(191),t.auth=n(85),t.user=n(279)},13:function(e,t,n){t.NOTE_TYPES={DIR:"dir",TEXT:"text",LINK:"link"},t.NOTE_TYPES_ARR=Object.keys(t.NOTE_TYPES).map((function(e){return t.NOTE_TYPES[e]})),t.USER_SETTINGS={MIN_LOGIN:3,MAX_LOGIN:20,MATCH_LOGIN:/^[a-z0-9_-]*$/,MIN_PASSWORD:6,MAX_PASSWORD:50,MATCH_PASSWORD:/^[a-zA-Z0-9_-]*$/},t.SESSION_MAX_AGE=36e5,t.ROUTES=n(274)},155:function(e,t,n){var a=n(63);e.exports=a.string().length(24)},190:function(e,t,n){var a=n(63),r=n(13).NOTE_TYPES_ARR;e.exports=a.string().oneOf(r)},191:function(e,t,n){var a,r=n(179),o=n(63),i=n(13).NOTE_TYPES,l=o.object().shape({title:o.string().min(3),text:o.string().min(3)}),c=l.concat(o.object().shape({title:o.string().required()})),u=l.concat(o.object().shape({text:o.string().required()})),s=l.concat(o.object().shape({url:o.string().url().required(),img:o.string().url()}));e.exports=(r(a={},i.DIR,c),r(a,i.TEXT,u),r(a,i.LINK,s),a)},233:function(e,t,n){e.exports=n(284)},274:function(e,t){var n="".concat("/_",":userId"),a="".concat("/_/",":userLogin"),r="".concat("/_/",":userName"),o="".concat("/~/",":noteId"),i="".concat("/page/").concat("badbrowser"),l="".concat("/entry/").concat("login"),c="".concat("/entry/").concat("registration"),u="".concat("/entry/").concat("logout");e.exports={PREFIX_NOTE_ID:"/~/",PREFIX_USER_ID:"/_",PREFIX_USER_LOGIN:"/_/",PREFIX_PAGE:"/page/",PREFIX_AUTH:"/entry/",PATHNAME_BADBROWSER:"badbrowser",PATHNAME_AUTH_LOGIN:"login",PATHNAME_AUTH_REGISTRATION:"registration",PATHNAME_AUTH_LOGOUT:"logout",PATH_NOTE_ID:o,PATH_USER_ID:n,PATH_USER_LOGIN:a,PATH_USER_NAME:r,PATH_BADBROWSER:i,PATH_AUTH_LOGIN:l,PATH_AUTH_REGISTRATION:c,PATH_AUTH_LOGOUT:u}},275:function(e,t,n){var a=n(63);e.exports=a.object().shape({created:a.bool(),updated:a.bool()})},276:function(e,t,n){var a=n(63);e.exports=a.object().shape({title:a.string(),text:a.string(),parent:a.string(),url:a.string().url(),img:a.string().url()})},277:function(e,t,n){var a=n(63),r=n(190),o=n(155);e.exports=a.object().shape({owner:o.required(),root:a.bool(),parent:o.when("root",{is:!0,then:function(){return o},otherwise:function(){return o.required()}}),kind:r,skip:a.number().min(0).integer(),limit:a.number().positive().integer()})},278:function(e,t,n){var a=n(63),r=n(190),o=n(191),i=n(155);e.exports=a.object().shape({kind:r.required(),parent:i.nullable(),note:a.object().when("kind",(function(e){if(!o[e])throw new Error("Schema [kind: ".concat(e,"] not found!"));return o[e]}))})},279:function(e,t,n){t.getOne=n(280)},280:function(e,t,n){var a=n(63),r=n(155),o=n(85).loginField;e.exports=a.object().shape({id:r.when("login",{is:function(e){return!!e},otherwise:r.required()}),login:o})},284:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),i=n.n(o),l=n(14),c=n(341),u=n(342),s=n(67),d=n(343),m=n(201),E=n.n(m),b=n(367),f=n(340),p=n(335),v=n(12),O=n(192),g=n.n(O),h=function(e){return g.a.stringify(e,{addQueryPrefix:!0,strictNullHandling:!0})},j="/",T=function(e){return"/".concat(h(e))},w="/users",S=function(e){return"/users".concat(h({offset:e}))},_={path:["/_:userId","/_/:userLogin"],link:function(e,t){return e?"/_".concat(e):"/_/".concat(t)}},k="/~/:noteId",y=function(e,t){return t?{pathname:"/~/".concat(e),state:t}:"/~/".concat(e)},A="/entry",P={path:"/entry/login",link:function(){return{pathname:"/entry/login",state:{referer:window.location.pathname}}}},x={path:"/entry/registration",link:function(){return{pathname:"/entry/registration",state:{referer:window.location.pathname}}}},R={path:"/entry/logout",link:function(){return{pathname:"/entry/logout",state:{referer:window.location.pathname}}}},I=function(e){return r.a.createElement(p.a,Object.assign({button:!0,component:v.b},e))},C=function(e){var t=e.open,n=e.onClose;return r.a.createElement(b.a,{anchor:"left",open:t,onClose:n},r.a.createElement(f.a,{component:"nav","aria-label":"secondary mailbox folders"},r.a.createElement(I,{to:T()},"Home"),r.a.createElement(I,{to:S()},"Users")))},N=n(289),D=n(36),L=n.n(D),H=n(48),U=n(23),q=n(24),Y=n(25),$=n.n(Y);function W(){var e=Object(q.a)(["\n    subscription {\n        auth {\n            is\n            user {\n                id\n                login\n            }\n        }\n    }\n"]);return W=function(){return e},e}function F(){var e=Object(q.a)(["\n    mutation {\n        result: logout\n    }\n"]);return F=function(){return e},e}function M(){var e=Object(q.a)(["\n    mutation($login: String!, $password: String!) {\n        result: login(login: $login, password: $password)\n    }\n"]);return M=function(){return e},e}function G(){var e=Object(q.a)(["\n    mutation($login: String!, $password: String!, $confirmPassword: String!) {\n        result: registration(login: $login, password: $password, confirmPassword: $confirmPassword)\n    }\n"]);return G=function(){return e},e}function V(){var e=Object(q.a)(["\n    {\n        me {\n            is\n            user {\n                id\n                login\n            }\n        }\n    }\n"]);return V=function(){return e},e}var B=$()(V()),K=$()(G()),z=$()(M()),X=$()(F()),Q=$()(W()),J=n(54),Z=n(51),ee=n(197),te=n(198),ne=n(219),ae=n(220),re=n(156),oe=n.n(re),ie=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(e,a){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(ee.a)(this,n),r=t.call(this,e);var i=o.exception,l=Object(Z.a)(o,["exception"]);return r.serverData=Object(J.a)({path:a},i||{}),Object.keys(l).forEach((function(e){r[e]=l[e]})),r.code=(null===l||void 0===l?void 0:l.code)||"CLIENT_ERROR",r}return n}(Object(ae.a)(Error)),le=function(e,t,n,a,r){var o=(e.graphQLErrors||[]).find((function(e){var a;return function e(t,n,a){return Array.isArray(t)?e(t.join("."),n,a):Array.isArray(n)?e(t,n.join("."),a):a?0===t.search(n):t===n}(e.path,t,r)&&(null===e||void 0===e||null===(a=e.extensions)||void 0===a?void 0:a.code)===n}))||new Error(a),i=o.message,l=o.path,c=o.extensions;return new ie(i,l,c)},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t="".concat(e).match(/^https?:\/\//);return t?e:"".concat(window.location.origin).concat(e)},ue=Object(a.createContext)({}),se=function(e){var t=e.children,n=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(a.useState)(null),d=Object(l.a)(s,2),m=d[0],E=d[1],b=Object(U.useQuery)(B),f=b.loading,p=b.error,v=b.data,O=b.refetch,g=Object(U.useMutation)(K),h=Object(l.a)(g,2),j=h[0],T=h[1],w=T.data,S=T.loading,_=Object(U.useMutation)(z),k=Object(l.a)(_,2),y=k[0],A=k[1],P=A.data,x=A.loading,R=Object(U.useMutation)(X),I=Object(l.a)(R,2),C=I[0],N=I[1],D=N.data,q=N.loading,Y=Object(U.useSubscription)(Q).data,$=Object(a.useCallback)(function(){var e=Object(H.a)(L.a.mark((function e(t,n,a){var r,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(null),e.prev=1,e.next=4,n({variables:t});case 4:return o=e.sent,O().then((function(e){var t,n;u(!!(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.me)||void 0===n?void 0:n.is)),window.location.href=ce(a)})),e.abrupt("return",null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.result);case 9:throw e.prev=9,e.t0=e.catch(1),E(e.t0),i=e.t0,l="Validation error",le(i,"result",oe.a.VALIDATION,l,!1);case 13:case"end":return e.stop()}var i,l}),e,null,[[1,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),[O,E,u]),W=Object(a.useCallback)((function(e,t){return $(e,j,t)}),[j,$]),F=Object(a.useCallback)((function(e,t){return $(e,y,t)}),[y,$]),M=Object(a.useCallback)((function(e,t){return $(e,C,t)}),[C,$]),G=Object(a.useCallback)((function(){return E(null)}),[E]);Object(a.useEffect)((function(){!p&&v&&v.me&&v.me.is?(u(!!v.me.is),r(v.me.user||null)):(u(!1),r(null))}),[p,v,r,u]);var V=!!(f||S||x||q);return Object(a.useEffect)((function(){var e,t,n,a,o,i;(null===Y||void 0===Y?void 0:Y.auth)&&!V&&((null===Y||void 0===Y||null===(e=Y.auth)||void 0===e?void 0:e.is)===c&&(null===Y||void 0===Y||null===(t=Y.auth)||void 0===t?void 0:t.user)?r(Y.auth.user):w||P||D||(null===(n=Y.auth)||void 0===n?void 0:n.is)===c||setTimeout((function(){window.location.href=window.location.href}),1e3),console.log((null===Y||void 0===Y||null===(a=Y.auth)||void 0===a?void 0:a.is)===c&&(null===Y||void 0===Y||null===(o=Y.auth)||void 0===o?void 0:o.user),!w&&!P&&!D&&(null===(i=Y.auth)||void 0===i?void 0:i.is)!==c))}),[c,w,P,D,Y,V,r,M]),{loading:V,error:m,user:n,isAuth:c,registration:W,login:F,logout:M,clearError:G}}();return r.a.createElement(ue.Provider,{value:n},t)},de=function(){return Object(a.useContext)(ue)},me=function(e){var t=e.user,n=t.id,a=t.login;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{color:"inherit",to:_.link(n),component:v.b},a),r.a.createElement(N.a,{color:"inherit",to:R.link(),component:v.b},"Logout"))},Ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{color:"inherit",to:x.link(),component:v.b},"Registration"),r.a.createElement(N.a,{color:"inherit",to:P.link(),component:v.b},"Login"))},be=function(){var e=de(),t=e.isAuth,n=e.user;return t?r.a.createElement(me,{user:n}):r.a.createElement(Ee,null)},fe=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(a.useCallback)((function(){return o((function(e){return!e}))}),[o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{position:"static"},r.a.createElement(u.a,{variant:"dense"},r.a.createElement(d.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:i},r.a.createElement(E.a,null)),r.a.createElement(s.a,{style:{flexGrow:1},variant:"h6"},"News"),r.a.createElement(be,null))),r.a.createElement(C,{open:n,onClose:i}))},pe=n(344);document.body.style.margin=0;var ve=function(e){var t=e.children;return r.a.createElement(pe.a,{style:{width:"100vw",minWidth:"100vw",paddingRight:0,paddingLeft:0}},r.a.createElement(fe,null),t)},Oe=function(){var e=de();return r.a.createElement(ve,null,r.a.createElement("h1",null,"Home"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("pre",null,JSON.stringify(e,null,3)))},ge=n(202),he=n.n(ge),je=Object({NODE_ENV:"production",PUBLIC_URL:"/webnotes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_SERVER_HOST:"webnotes.app",REACT_APP_SUBSCRIBE_SERVER_PATH:"/subscribe",REACT_APP_API_SERVER_PATH:"/gql",REACT_APP_HASH_ROUTER:"1",REACT_APP_API_SERVER_PORT:"80"}),Te=je.REACT_APP_API_SERVER_HOST,we=je.REACT_APP_API_SERVER_PORT,Se=je.REACT_APP_API_SERVER_PATH,_e=je.REACT_APP_SUBSCRIBE_SERVER_PATH,ke=function(){var e=window.location.protocol.includes("https")?"wss:":"ws:",t=window.location.protocol,n=we?":".concat(we):"";return{urlGql:"".concat(t,"//").concat(Te).concat(n).concat(Se),wsUrlGql:"".concat(e,"//").concat(Te).concat(n).concat(_e)}}(),ye=ke.urlGql,Ae=ke.wsUrlGql,Pe=function(e){var t=e.children;return r.a.createElement(he.a,{uri:ye,wsUri:Ae,httpOptions:{credentials:"include"}},t)},xe=n(166),Re=n(364),Ie=n(363),Ce=n(203),Ne=n.n(Ce),De=n(133),Le=n.n(De),He=function(e){var t=e.error,n=e.onClose,o=e.idx,i=Object(a.useCallback)((function(e,a){return(!a||"timeout"===a)&&n(t)}),[t,n]);return r.a.createElement(Re.a,{open:!0,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:15e3,onClose:i,style:{transform:"translateY(-".concat(100*o+15*o,"%)")}},r.a.createElement(Ie.a,{elevation:6,severity:"error",onClose:i},t.message))},Ue=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Ne()().lastError,c=Object(a.useCallback)((function(e){return o((function(t){return t.filter((function(t){return t!==e}))}))}),[o]);return Object(a.useEffect)((function(){if(i){var e=i.networkError,t=i.graphQLErrors;i.operation;if(e)o((function(t){return[].concat(Object(xe.a)(t),[e])}));else if(t&&Array.isArray(t)){var n=[];console.log(t),t.forEach((function(e,t){var a=e.message,r=e.path,o=e.extensions,i=new Le.a(a,r,o);i.index="".concat(Date.now(),"_").concat(t),i.code!==Le.a.codes.VALIDATION&&n.push(i)})),n.length&&o((function(e){return[].concat(Object(xe.a)(e),n)}))}}}),[o,i]),n.map((function(e,t){return r.a.createElement(He,{key:e.index,idx:t,error:e,onClose:c})}))},qe=v.a,Ye=function(e){var t=e.children;return r.a.createElement(Pe,null,r.a.createElement(se,null,r.a.createElement(qe,{basename:"/"},t," ")),r.a.createElement(Ue,null))},$e=n(76),We=n(346);function Fe(){var e=Object(q.a)(["\n    query {\n        allUsers: users {\n            id\n            login\n        }\n    }\n"]);return Fe=function(){return e},e}var Me=function(e){return r.a.createElement(p.a,Object.assign({button:!0,component:v.b},e))},Ge=$()(Fe()),Ve=function(){var e=Object(U.useQuery)(Ge),t=e.error,n=e.loading,a=e.data;return r.a.createElement(ve,null,n&&r.a.createElement(We.a,null),t&&r.a.createElement(Ie.a,{severity:"error"},t.message),!t&&a&&a.allUsers&&r.a.createElement(f.a,null,a.allUsers.map((function(e){var t=e.id,n=e.login;return r.a.createElement(Me,{key:t,to:_.link(t)},n)}))))},Be=n(349),Ke=n(167),ze=n(347),Xe=n(348),Qe=n(205),Je=n.n(Qe),Ze=n(164),et=n.n(Ze),tt=n(204),nt=n.n(tt),at=function(e){return nt()(e).format("DD-MMM-YY kk:mm:ss")},rt=function(e){var t=Object(a.useState)(function(){for(var e=document.head.getElementsByTagName("link"),t=0;t<e.length;t++)if("icon"===e[t].rel)return e[t];var n=document.createElement("link");return n.rel="icon",document.head.append(n),n}()),n=Object(l.a)(t,1)[0],r=Object(a.useState)(n.href),o=Object(l.a)(r,1)[0];Object(a.useEffect)((function(){return function(){n.href=o}}),[]),Object(a.useEffect)((function(){n.href=e}),[e])},ot=function(e){var t="object"===typeof e?e:{title:e},n=t.title,r=t.icon;!function(e){Object(a.useEffect)((function(){var t=window.document.title;return window.document.title=e,function(){window.document.title=t}}),[e])}(n),rt(r)},it=function(e){e.id;var t=e.login,n=e.createdAt,a=e.updatedAt;return ot("".concat(t," page")),r.a.createElement(f.a,null,r.a.createElement(p.a,null,r.a.createElement(ze.a,null,r.a.createElement(Je.a,null)),r.a.createElement(v.b,{to:_.link(null,t)},r.a.createElement(s.a,{variant:"button"},t))),r.a.createElement(p.a,null,r.a.createElement(ze.a,null,r.a.createElement(et.a,null)),r.a.createElement(Xe.a,null,"createdAt: ",at(n))),r.a.createElement(p.a,null,r.a.createElement(ze.a,null,r.a.createElement(et.a,null)),r.a.createElement(Xe.a,null,"updatedAt: ",at(a))))};function lt(){var e=Object(q.a)(["\n    query($id: ID!) {\n        getUser: user(id: $id) {\n            id\n            login\n            createdAt\n            updatedAt\n        }\n    }\n"]);return lt=function(){return e},e}var ct=$()(lt()),ut=function(e){var t=e.userId,n=Object(U.useQuery)(ct,{variables:{id:t}}),a=n.loading,o=n.error,i=n.data;return r.a.createElement(Ke.a,null,a&&r.a.createElement(We.a,null),o&&r.a.createElement(Ie.a,{severity:"error"},o.message),i&&i.getUser?r.a.createElement(it,i.getUser):r.a.createElement(Ie.a,{severity:"error"},"User not found"))},st=function(e){return e},dt=n(13),mt=function(e){var t=e.children;return r.a.createElement(Ke.a,{style:{width:"98%"}},r.a.createElement(Be.a,{container:!0,justify:"flex-end",direction:"row",wrap:"nowrap",alignItems:"center",style:{padding:5,paddingRight:10,margin:"5px 0"}},t))},Et=n(207),bt=n.n(Et),ft=n(365),pt=function(e){var t=e.path,n=Object(a.useState)(!1),o=Object(l.a)(n,2),i=o[0],c=o[1],u=Object(a.useCallback)((function(){return c((function(e){return!e}))}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{title:"Share"},r.a.createElement(d.a,{color:"secondary",size:"small",disabled:i,onClick:u},r.a.createElement(bt.a,{fontSize:"small"}))),i&&r.a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:6e3,onClose:u,message:"Share: ".concat(t)}))},vt=n(216),Ot=n.n(vt),gt=n(353),ht=n(355),jt=n(354),Tt=n(351),wt=n(352),St=n(362),_t=n(350),kt=n(116),yt=n(211),At=n.n(yt),Pt={},xt={};Object.keys(kt.notes).forEach((function(e){xt[e]=[],Object.keys(kt.notes[e].fields).forEach((function(t){Pt[t]="",xt[e].push(t)}))}));var Rt,It,Ct=function(e){var t=Object(a.useState)(e.kind||dt.NOTE_TYPES.DIR),n=Object(l.a)(t,2),r=n[0],o=n[1],i=function(e){var t=e.kind,n=e.note;return{initialValues:Object(a.useState)((function(){return At.a.recursive({},Pt,n)}))[0],blockedKind:Object(a.useState)((function(){return new Set(t?t===dt.NOTE_TYPES.DIR?dt.NOTE_TYPES_ARR.filter((function(e){return e!==dt.NOTE_TYPES.DIR})):[dt.NOTE_TYPES.DIR]:[])}))[0]}}(e),c=i.initialValues,u=i.blockedKind,s=function(e){var t=e.submitText,n=e.onCancel,r=e.cancelText;return Object(a.useState)((function(){return{submit:{text:t||"Submit"},cancel:n&&"function"===typeof n?{text:r||"Cancel",handler:n}:null}}))[0]}(e),d=Object(a.useCallback)((function(e,t){dt.NOTE_TYPES_ARR.includes(t)&&o(t)}),[o]),m=Object(a.useCallback)((function(t){return e.onSubmit(r,xt[r].reduce((function(e,n){return t[n]&&(e[n]=t[n]),e}),{}))}),[r,null===e||void 0===e?void 0:e.onSubmit]);return{kind:r,changeKind:d,initialValues:c,blockedKind:u,handleSubmit:m,actions:s}},Nt=Object(a.createContext)({}),Dt=function(e){var t=e.children,n=Object(Z.a)(e,["children"]),a=Ct(n);return r.a.createElement(Nt.Provider,{value:a},t)},Lt=n(37),Ht=n(215),Ut=n.n(Ht),qt=n(213),Yt=n.n(qt),$t=n(214),Wt=n.n($t),Ft=n(212),Mt=n.n(Ft),Gt=(Rt={},Object(Lt.a)(Rt,dt.NOTE_TYPES.DIR,Mt.a),Object(Lt.a)(Rt,dt.NOTE_TYPES.TEXT,Yt.a),Object(Lt.a)(Rt,dt.NOTE_TYPES.LINK,Wt.a),Rt),Vt=Object(J.a)(Object(J.a)({},Gt),{},Object(Lt.a)({},dt.NOTE_TYPES.DIR,Ut.a)),Bt=function(e){var t=Vt[e];return r.a.createElement(t,null)},Kt=function(){var e=Object(a.useContext)(Nt),t=e.kind,n=e.changeKind,o=e.blockedKind;return r.a.createElement(St.a,{value:t,indicatorColor:"primary",textColor:"primary",onChange:n,style:{marginBottom:10}},dt.NOTE_TYPES_ARR.map((function(e){return r.a.createElement(_t.a,{key:e,label:Bt(e)?void 0:e,icon:Bt(e),value:e,disabled:o.has(e)})})))},zt=n(361),Xt=n(30),Qt=function(e){var t=e.name,n=e.type,a=e.label,o=e.required,i=Object(Xt.c)(t),c=Object(l.a)(i,2),u=c[0],s=c[1],d=s.touched&&s.error,m=a?"".concat(a).concat(o?"*":""):void 0;return r.a.createElement(zt.a,Object.assign({type:n},u,{placeholder:m,label:m,fullWidth:!0,variant:"outlined",margin:"dense",error:!!d,helperText:d}))},Jt=function(e){var t=e.name,n=e.type,a=e.label,o=e.required,i=Object(Xt.c)(t),c=Object(l.a)(i,2),u=c[0],s=c[1],d=s.touched&&s.error,m=a?"".concat(a).concat(o?"*":""):void 0;return r.a.createElement(zt.a,Object.assign({type:n},u,{placeholder:m,label:m,fullWidth:!0,variant:"outlined",margin:"dense",error:!!d,helperText:d,multiline:!0,rowsMax:5}))},Zt=function(){var e=Object(Xt.d)(),t=e.isSubmitting,n=e.errors,a=e.values;return r.a.createElement(N.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:10},disabled:t||Object.keys(n).some((function(e){return!!n[e]}))||Object.keys(a).some((function(e){return!a[e]}))},"Submit")},en=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt,{name:"title",label:"Label",required:!0}),r.a.createElement(Qt,{name:"text",label:"Description"}))},tn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt,{name:"title",label:"Title"}),r.a.createElement(Jt,{name:"text",label:"Text",required:!0}))},nn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt,{name:"title",label:"Label"}),r.a.createElement(Qt,{name:"text",label:"Description"}),r.a.createElement(Qt,{name:"url",label:"Link url",required:!0}))},an=n(159),rn=n.n(an),on=function(){var e=Object(Xt.d)(),t=e.isSubmitting,n=e.errors,o=e.validateForm,i=Object(a.useContext)(Nt),l=i.kind,c=i.actions,u=c.submit,s=c.cancel;return Object(a.useEffect)((function(){o()}),[l,o]),r.a.createElement(Be.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",style:{marginTop:10}},r.a.createElement(N.a,{type:"submit",variant:"contained",color:"primary",disabled:t||Object.keys(n).some((function(e){return!!n[e]}))},u.text),s&&r.a.createElement(N.a,{color:"secondary",onClick:s.handler},s.text))},ln=function(e){var t=e.children,n=Object(a.useContext)(Nt),o=n.kind,i=n.initialValues,l=n.handleSubmit,c=Object(a.useCallback)(function(){var e=Object(H.a)(L.a.mark((function e(t,n){var a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,r=n.setErrors,a(!0),e.prev=2,e.next=5,l(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),e.t0.map&&Object.keys(e.t0.map).length&&r(e.t0.map);case 10:a(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}(),[l]);return r.a.createElement(Xt.b,{initialValues:i,validationSchema:kt.notes[o],onSubmit:c},r.a.createElement(Xt.a,null,t,r.a.createElement("br",null),r.a.createElement(on,null)))},cn=(It={},Object(Lt.a)(It,dt.NOTE_TYPES.DIR,en),Object(Lt.a)(It,dt.NOTE_TYPES.TEXT,tn),Object(Lt.a)(It,dt.NOTE_TYPES.LINK,nn),It),un=function(){var e=Object(a.useContext)(Nt).kind,t=cn[e];return r.a.createElement(ln,null,r.a.createElement(t,null))},sn=function(e){return r.a.createElement(Tt.a,null,r.a.createElement(Dt,e,r.a.createElement(wt.a,null,r.a.createElement(Kt,null),r.a.createElement(un,null))))},dn=function(e){var t=e.title,n=e.mutation,o=e.variablesFilter,i=e.onSubmit,c=e.onClose,u=(e.errorPath,Object(Z.a)(e,["title","mutation","variablesFilter","onSubmit","onClose","errorPath"])),s=Object(a.useState)(!1),d=Object(l.a)(s,2),m=d[0],E=d[1],b=Object(a.useCallback)(Object(H.a)(L.a.mark((function e(){var t,a,r,l=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,n(o.apply(void 0,l));case 4:t=e.sent,a=t.data,E(!1),i((a||{}).make),e.next=16;break;case 10:throw e.prev=10,e.t0=e.catch(1),(r=rn.a.parseServerGqlError(e.t0,"make")).hasResults&&Object.keys(r.map).forEach((function(e){r.map[e.replace(/^note\./,"")]=r.map[e]})),E(!1),r;case 16:case"end":return e.stop()}}),e,null,[[1,10]])}))),[n,o,i,E]);return r.a.createElement(gt.a,{open:!0,onClose:c},m&&r.a.createElement(We.a,null),r.a.createElement(jt.a,null,t),r.a.createElement(ht.a,null,r.a.createElement(sn,Object.assign({},u,{cancelText:"Close",onCancel:c,onSubmit:b}))))};function mn(){var e=Object(q.a)(["\n    mutation($kind: Kind!, $parent: ID, $note: NoteInput!) {\n        make: addNote(kind: $kind, parent: $parent, note: $note) {\n            id\n            kind\n            title\n            text\n        }\n    }\n"]);return mn=function(){return e},e}var En=$()(mn()),bn=function(e){var t=e.parent,n=e.onClose,o=e.onSubmit,i=Object(U.useMutation)(En),c=Object(l.a)(i,1)[0],u=Object(a.useCallback)((function(e,n){return{variables:{parent:t,kind:e,note:n}}}),[t]);return r.a.createElement(dn,{title:"Add note",mutation:c,variablesFilter:u,errorPath:"addNote",onSubmit:o,onClose:n,submitText:"Add"})},fn=n(288),pn=n(356);function vn(){var e=Object(q.a)(["\n    mutation($id: ID!, $note: NoteInput!) {\n        make: editNote(id: $id, note: $note) {\n            id\n        }\n    }\n"]);return vn=function(){return e},e}function On(){var e=Object(q.a)(["\n    query($id: ID!) {\n        note(id: $id) {\n            id\n            kind\n            title\n            text\n            url\n            owner {\n                id\n            }\n        }\n    }\n"]);return On=function(){return e},e}var gn,hn=$()(On()),jn=$()(vn()),Tn=function(e){var t=e.id,n=e.kind,o=e.onClose,i=e.onSubmit,c=Object(U.useQuery)(hn,{variables:{id:t}}),u=c.loading,s=c.error,d=c.data,m=Object(U.useMutation)(jn),E=Object(l.a)(m,1)[0];Object(a.useEffect)((function(){s&&o()}),[s,o]);var b=Object(a.useCallback)((function(e,n){return{variables:{id:t,note:n}}}),[t]);return u||!(null===d||void 0===d?void 0:d.note)?r.a.createElement(fn.a,{open:!0,onClick:o},r.a.createElement(pn.a,{color:"inherit"})):r.a.createElement(dn,{title:"Edit note",mutation:E,variablesFilter:b,errorPath:"addNote",onSubmit:i,onClose:o,submitText:"Edit",kind:n,note:d.note})},wn=function(e){var t=e.owner,n=e.parent,o=Object(a.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(a.useState)(null),m=Object(l.a)(s,2),E=m[0],b=m[1],f=Object(a.useCallback)((function(){return b(null)}),[b]),p=Object(a.useCallback)((function(){return u((function(e){return!e}))}),[u]),v=Object(a.useCallback)((function(e){var t=e.id,n=e.kind,a=e.title;u(!1),b(a?"".concat(a," added"):"".concat(n," ID: ").concat(t," Added"))}),[u,b]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{title:"Add note"},r.a.createElement(d.a,{color:"primary",size:"small",disabled:c,onClick:p},r.a.createElement(Ot.a,{fontSize:"small"}))),c&&r.a.createElement(bn,{parent:n,owner:t,onClose:p,onSubmit:v}),E&&r.a.createElement(Re.a,{open:!0,autoHideDuration:6e3,onClose:f},r.a.createElement(Ie.a,{onClose:f,severity:"success"},E)))},Sn=n(142),_n=n.n(Sn),kn=function(e){var t=e.id,n=e.kind,o=Object($e.h)().state,i=Object($e.g)(),c=Object(a.useState)(!1),u=Object(l.a)(c,2),s=u[0],m=u[1],E=Object(a.useState)(null),b=Object(l.a)(E,2),f=b[0],p=b[1],v=Object(a.useCallback)((function(){return p(null)}),[p]),O=Object(a.useCallback)((function(){return m((function(e){return!e}))}),[m]),g=Object(a.useCallback)((function(e){var n=e.kind,a=e.title;m(!1),p(a?"".concat(a," edited"):"".concat(n," ID: ").concat(t," Edited"))}),[m,p,t]);return Object(a.useEffect)((function(){(null===o||void 0===o?void 0:o.edit)&&(o.edit===t&&m(!0),i.replace(i.location.pathname,Object(J.a)(Object(J.a)({},o),{},{edit:null})))}),[null===o||void 0===o?void 0:o.edit,t,i,m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{title:"Edit"},r.a.createElement(d.a,{color:"primary",size:"small",disabled:s,onClick:O},r.a.createElement(_n.a,{fontSize:"small"}))),s&&r.a.createElement(Tn,{id:t,kind:n,onClose:O,onSubmit:g}),f&&r.a.createElement(Re.a,{open:!0,autoHideDuration:6e3,onClose:v},r.a.createElement(Ie.a,{onClose:v,severity:"success"},f)))},yn=function(e){var t=e.kind,n=e.id,a=e.owner,o=de(),i=o.isAuth,l=o.user;return i&&l&&a===(null===l||void 0===l?void 0:l.id)?r.a.createElement(r.a.Fragment,null,t===dt.NOTE_TYPES.DIR&&r.a.createElement(wn,{owner:a,parent:n}),n&&r.a.createElement(kn,{kind:t,id:n})):null},An=n(366),Pn=n(357),xn=n(160),Rn=n.n(xn),In=function(e){var t=e.id,n=e.login;return r.a.createElement(v.b,{to:_.link(t),style:{display:"flex",flexWrap:"nowrap",textDecoration:"none",color:"#3f51b5ee"}},r.a.createElement(Rn.a,null),n)},Cn=Object(Lt.a)({},dt.NOTE_TYPES.DIR,"Folder"),Nn=function(e){var t=e.kind,n=Gt[t];return r.a.createElement(ft.a,{title:Cn[t]||t},r.a.createElement(n,{fontSize:"small",style:{opacity:.7}}))},Dn=function(e){var t=e.id,n=e.kind,a=e.title;return r.a.createElement(v.b,{to:y(t),style:{display:"flex",flexWrap:"nowrap",textDecoration:"none",color:"#3f51b5ee",alignItems:"center"}},r.a.createElement(Nn,{kind:n}),r.a.createElement("span",{style:{marginLeft:5,whiteSpace:"nowrap"}},a))},Ln=function(e){e.id;var t=e.kind,n=e.title;return r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",textDecoration:"none",color:"#3339",alignItems:"center"}},r.a.createElement(Nn,{kind:t}),r.a.createElement("span",{style:{marginLeft:5,whiteSpace:"nowrap"}},n))},Hn=Object(Pn.a)((function(){return{root:{marginRight:10,width:"100%"},ol:{display:"flex",flexWrap:"nowrap",flexDirection:"row"},li:{display:"flex",flexWrap:"nowrap",flexDirection:"row"}}})),Un=function(e){e.id;var t=e.owner,n=e.root,a=e.current,o=e.currentTitle,i=e.currentKind,l=e.parent,c=e.parentTitle,u=e.ownerLogin;return n?r.a.createElement(Nn,{kind:dt.NOTE_TYPES.DIR}):r.a.createElement(An.a,{classes:Hn()},r.a.createElement(In,{id:t,login:u}),l&&r.a.createElement(Dn,{kind:dt.NOTE_TYPES.DIR,id:l,title:c}),a&&r.a.createElement(Ln,{kind:i,id:a,title:o}))},qn=function(e){var t=e.id,n=e.owner,a=e.root,o=e.title,i=e.parent,l=e.parentTitle,c=e.ownerLogin;return r.a.createElement(mt,null,r.a.createElement(Un,{root:a,owner:n,ownerLogin:c,parent:i,parentTitle:l,current:t,currentTitle:o,currentKind:dt.NOTE_TYPES.DIR}),r.a.createElement(yn,{kind:dt.NOTE_TYPES.DIR,owner:n,id:t}),r.a.createElement(pt,null))},Yn=function(e){var t=e.id,n=e.kind,a=e.owner,o=e.root,i=e.title,l=e.parent,c=e.parentTitle,u=e.ownerLogin;return r.a.createElement(mt,null,r.a.createElement(Un,{root:o,owner:a,ownerLogin:u,parent:l,parentTitle:c,current:t,currentTitle:i,currentKind:n}),r.a.createElement(yn,{kind:n,owner:a,id:t}),r.a.createElement(pt,null))},$n=n(217),Wn=n.n($n),Fn=function(e){var t=e.id,n=e.kind,o=e.owner,i=e.children,c=Object(a.useState)(!1),u=Object(l.a)(c,2),s=u[0],m=u[1],E=de(),b=E.isAuth,f=E.user,p=Object(a.useCallback)((function(){return m(!0)}),[m]),O=Object(a.useCallback)((function(){return m(!1)}),[m]);return r.a.createElement(Ke.a,{style:{width:"98%",position:"relative",margin:"5px 0",overflow:"hidden"},onMouseEnter:p,onMouseLeave:O},r.a.createElement(Ke.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:2,right:2}},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(pt,{path:y(t)}),b&&f&&f.id===o&&r.a.createElement(ft.a,{title:"edit"},r.a.createElement(d.a,{size:"small",color:"primary",component:v.b,to:y(t,{edit:t})},r.a.createElement(_n.a,{size:"small"})))):r.a.createElement(Wn.a,null)),r.a.createElement(Be.a,{container:!0,wrap:"nowrap"},r.a.createElement(Be.a,{item:!0,style:{padding:5}},r.a.createElement(Nn,{kind:n})),r.a.createElement(Be.a,{item:!0,style:{width:"95%"}},i)))},Mn=function(e){var t=e.kind,n=e.id,a=e.owner,o=e.title,i=e.text;return r.a.createElement(Fn,{kind:t,id:n,owner:a},r.a.createElement(v.b,{style:{textDecoration:"none",color:"#333"},to:y(n)},r.a.createElement("div",{style:{fontSize:16,fontWeight:600,padding:5,paddingBottom:0}},o),i&&r.a.createElement("div",{style:{fontSize:13,color:"#999"}},i)))},Gn=function(e){var t=e.id,n=e.owner,a=e.kind,o=Object(Z.a)(e,["id","owner","kind"]),i=o.title||o.text,l=o.title?o.text:null;return r.a.createElement(Fn,{kind:a,id:t,owner:n},r.a.createElement(v.b,{style:{textDecoration:"none",color:"#444"},to:y(t)},r.a.createElement("div",{style:{fontSize:15,fontWeight:600,padding:5,paddingBottom:0,whiteSpace:"nowrap",width:"100%",overflow:"hidden"}},i),l&&r.a.createElement("div",{style:{fontSize:14,color:"#666"}},l)))},Vn=function(e){var t=e.id,n=e.kind,a=e.owner,o=e.title,i=e.text,l=e.url;return r.a.createElement(Fn,{kind:n,id:t,owner:a},r.a.createElement(v.b,{style:{textDecoration:"none",color:"#333"},to:y(t)},r.a.createElement("div",{style:{fontSize:15,fontWeight:600,padding:5,paddingBottom:0}},o||i||l)),r.a.createElement("a",{href:l,target:"_blank",rel:"noopener",style:{fontSize:12,letterSpacing:1.5,textDecoration:"none",color:"#335",marginBottom:5}},l))},Bn=(gn={},Object(Lt.a)(gn,dt.NOTE_TYPES.DIR,Mn),Object(Lt.a)(gn,dt.NOTE_TYPES.TEXT,Gn),Object(Lt.a)(gn,dt.NOTE_TYPES.LINK,Vn),gn),Kn=function(e){var t=Bn[e.kind];return r.a.createElement(t,e)};function zn(){var e=Object(q.a)(["\n    query($query: NoteQueryInput!) {\n        notes(query: $query) {\n            kind\n            id\n            title\n            text\n            url\n        }\n    }\n"]);return zn=function(){return e},e}var Xn=$()(zn()),Qn=function(e){var t=e.root,n=e.owner,a=e.parent,o=Object(U.useQuery)(Xn,{variables:{query:{root:t,owner:n,parent:a,limit:200,sort:{created:!1}}}}),i=o.loading,l=o.error,c=o.data;return r.a.createElement(Ke.a,null,i&&r.a.createElement(We.a,null),!l&&c&&r.a.createElement(f.a,null,c.notes.map((function(e){return r.a.createElement(Kn,Object.assign({key:e.id},e,{owner:n}))}))))},Jn=function(e){var t=e.root,n=e.id,a=e.owner,o=e.title,i=e.parent,l=e.parentTitle,c=e.ownerLogin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qn,{owner:a,title:o,id:n||null,parent:i,parentTitle:l,root:t,ownerLogin:c}),r.a.createElement(Qn,{root:t,owner:a,parent:n}))};function Zn(){var e=Object(q.a)(["\n    query($id: ID!) {\n        note(id: $id) {\n            id\n            kind\n            title\n            text\n            url\n            owner {\n                id\n            }\n        }\n    }\n"]);return Zn=function(){return e},e}var ea=$()(Zn()),ta={display:"block",maxWidth:"95%",margin:"2px auto"},na=function(e){var t=e.id,n=Object(U.useQuery)(ea,{variables:{id:t}}),a=n.loading,o=(n.error,n.data);return r.a.createElement(Ke.a,null,a&&r.a.createElement(We.a,null),(null===o||void 0===o?void 0:o.note)&&r.a.createElement(r.a.Fragment,null,o.note.title&&r.a.createElement("h3",{style:Object(J.a)({},ta)},o.note.title),o.note.text&&r.a.createElement("p",{style:Object(J.a)({},ta)},o.note.text),o.note.url&&r.a.createElement("a",{href:o.note.url,targer:"_blank",style:Object(J.a)({},ta)},o.note.url)))},aa=function(e){var t=e.root,n=e.id,a=e.kind,o=e.owner,i=e.title,l=e.parent,c=e.parentTitle,u=e.ownerLogin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn,{owner:o,title:i,id:n||null,kind:a,parent:l,parentTitle:c,root:t,ownerLogin:u}),r.a.createElement(na,{id:n}))},ra=function(e){var t=e.match.params,n=st(t),a=n.loading,o=n.error,i=n.userId;return r.a.createElement(ve,null,a&&r.a.createElement(We.a,null),!a&&(o||!i)&&r.a.createElement(Ie.a,{severity:"error"},o&&o.message||"User not found"),i&&r.a.createElement(Be.a,{container:!0,spacing:1},r.a.createElement(Be.a,{item:!0,md:3},r.a.createElement(ut,{userId:i})),r.a.createElement(Be.a,{item:!0,md:9},r.a.createElement(Jn,{root:!0,owner:i}))))};function oa(){var e=Object(q.a)(["\n    query($noteId: ID!) {\n        note(id: $noteId) {\n            id\n            kind\n            title\n            owner {\n                id\n                login\n            }\n            parent {\n                id\n                title\n            }\n        }\n    }\n"]);return oa=function(){return e},e}var ia=$()(oa()),la=function(e){var t=e.id,n=e.kind,a=e.title,o=e.owner,i=e.parent,l={id:t,kind:n,title:a,root:!1,owner:null===o||void 0===o?void 0:o.id,ownerLogin:o.login,parent:null===i||void 0===i?void 0:i.id,parentTitle:null===i||void 0===i?void 0:i.title};return n===dt.NOTE_TYPES.DIR?r.a.createElement(Jn,l):r.a.createElement(aa,l)},ca=function(){var e=Object($e.i)().params.noteId,t=Object(U.useQuery)(ia,{variables:{noteId:e}}),n=t.loading,a=t.error,o=t.data;return r.a.createElement(ve,null,n&&r.a.createElement(We.a,null),!a&&(null===o||void 0===o?void 0:o.note)&&r.a.createElement(la,o.note))},ua=function(e){var t=e.children;return r.a.createElement(pe.a,{maxWidth:"sm"},t)},sa=n(360),da=n(218),ma=n.n(da),Ea=n(358),ba=n(85),fa=function(){var e=Object(Xt.d)().status;return e?r.a.createElement(Ie.a,{severity:"error"},e):null},pa=function(){var e=Object($e.g)(),t=Object($e.h)().state,n=de().registration;ot({title:"Registration",icon:"/icons/key.png"});var o=Object(a.useCallback)(function(){var e=Object(H.a)(L.a.mark((function e(a,r){var o,i,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.setSubmitting,i=r.setStatus,l=r.setErrors,o(!0),e.prev=2,e.next=5,n(a,null===t||void 0===t?void 0:t.referer);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),e.t0.map&&Object.keys(e.t0.map).length?l(e.t0.map):i(e.t0.message),o(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}(),[n,e,null===t||void 0===t?void 0:t.referer]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea.a,{title:"Registration"}),r.a.createElement(wt.a,null,r.a.createElement(Xt.b,{initialValues:{login:"",password:"",confirmPassword:""},onSubmit:o,validationSchema:ba.registration},r.a.createElement(Xt.a,null,r.a.createElement(fa,null),r.a.createElement(Qt,{name:"login",label:"login",type:"text",required:!0}),r.a.createElement(Qt,{name:"password",label:"password",type:"text",required:!0}),r.a.createElement(Qt,{name:"confirmPassword",label:"confirm password",type:"text",required:!0}),r.a.createElement(Zt,null)))))},va=function(){var e=Object($e.h)().state,t=de().login;ot({title:"Login",icon:"/icons/key.png"});var n=Object(a.useCallback)(function(){var n=Object(H.a)(L.a.mark((function n(a,r){var o,i,l;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.setSubmitting,i=r.setStatus,l=r.setErrors,o(!0),n.prev=2,n.next=5,t(a,null===e||void 0===e?void 0:e.referer);case 5:n.next=11;break;case 7:n.prev=7,n.t0=n.catch(2),n.t0.map&&Object.keys(n.t0.map).length?l(n.t0.map):i(n.t0.message),o(!1);case 11:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e,t){return n.apply(this,arguments)}}(),[t,null===e||void 0===e?void 0:e.referer]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea.a,{title:"Authorization"}),r.a.createElement(wt.a,null,r.a.createElement(Xt.b,{initialValues:{login:"",password:""},onSubmit:n,validationSchema:ba.login},r.a.createElement(Xt.a,null,r.a.createElement(fa,null),r.a.createElement(Qt,{name:"login",label:"login",type:"text",required:!0}),r.a.createElement(Qt,{name:"password",label:"password",type:"text",required:!0}),r.a.createElement(Zt,null)))))},Oa=n(359),ga=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!1),c=Object(l.a)(i,2),u=c[0],s=c[1],d=Object($e.g)(),m=Object($e.h)().state,E=de().logout;ot({title:"Logout",icon:"/icons/key.png"});var b={pathname:(null===m||void 0===m?void 0:m.referer)||"/",state:null},f=Object(a.useCallback)(Object(H.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,E(null,null===b||void 0===b?void 0:b.pathname);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),o(e.t0.message),s(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),[E,d,b.pathname,s,o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea.a,{title:"Logout",subheader:"exit?"}),r.a.createElement(wt.a,null,n&&r.a.createElement(Ie.a,{severity:"error"},n),r.a.createElement(Oa.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(N.a,{to:b,component:v.b,variant:"outlined",style:{minWidth:150}},"Back"),r.a.createElement(N.a,{variant:"contained",color:"secondary",style:{minWidth:150},onClick:f,disabled:u},"Exit"))))},ha=function(e){return r.a.createElement($e.b,e)},ja=function(e){var t=e.redirect,n=void 0===t?"/":t,a=e.component,o=Object(Z.a)(e,["redirect","component"]);return de().isAuth?r.a.createElement($e.b,Object.assign({},o,{component:a})):r.a.createElement($e.b,Object.assign({},o,{render:function(){return r.a.createElement($e.a,{to:n})}}))},Ta=function(e){var t=e.redirect,n=void 0===t?"/":t,a=e.component,o=Object(Z.a)(e,["redirect","component"]),i=de(),l=i.isAuth;i.loading;return l?r.a.createElement($e.b,Object.assign({},o,{render:function(){return r.a.createElement($e.a,{to:n})}})):r.a.createElement($e.b,Object.assign({},o,{component:a}))},wa=function(e){var t=e.location.state;return r.a.createElement(ua,null,r.a.createElement(Tt.a,null,r.a.createElement($e.d,null,r.a.createElement(Ta,{path:x.path,component:pa}),r.a.createElement(Ta,{path:P.path,component:va}),r.a.createElement(ja,{path:R.path,component:ga}),r.a.createElement($e.a,{to:"/"})),r.a.createElement(sa.a,null,t&&t.referer&&"/"!==t.referer&&r.a.createElement(v.b,{to:t.referer},r.a.createElement(ma.a,null)),r.a.createElement(N.a,{to:"/",component:v.b},"Home"))))};var Sa=function(){return r.a.createElement(Ye,null,r.a.createElement($e.d,null,r.a.createElement(ha,{path:j,exact:!0,component:Oe}),r.a.createElement(ha,{path:w,exact:!0,component:Ve}),r.a.createElement(ha,{path:_.path,exact:!0,component:ra}),r.a.createElement(ha,{path:k,exact:!0,component:ca}),r.a.createElement(ha,{path:A,component:wa}),r.a.createElement($e.a,{to:T()})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Sa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),console.info(Object({NODE_ENV:"production",PUBLIC_URL:"/webnotes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_SERVER_HOST:"webnotes.app",REACT_APP_SUBSCRIBE_SERVER_PATH:"/subscribe",REACT_APP_API_SERVER_PATH:"/gql",REACT_APP_HASH_ROUTER:"1",REACT_APP_API_SERVER_PORT:"80"}))},85:function(e,t,n){var a=n(63),r=n(13).USER_SETTINGS,o=a.string().min(r.MIN_LOGIN).max(r.MAX_LOGIN).matches(r.MATCH_LOGIN),i=a.object().shape({login:o,password:a.string().min(r.MIN_PASSWORD).max(r.MAX_PASSWORD).matches(r.MATCH_PASSWORD)}),l=i.concat(a.object().shape({confirmPassword:a.string().test("match","Passwords do not match",(function(){return this.parent.password==this.parent.confirmPassword}))}));t.loginField=o,t.login=i,t.registration=l}},[[233,1,2]]]);